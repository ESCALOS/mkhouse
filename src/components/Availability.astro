---
import { getI18N } from "@/i18n";
const { currentLocale } = Astro;
const i18n = getI18N({ currentLocale });
const { form, title, button } = i18n.home.availability;

if (Astro.request.method === "POST") {
  try {
    const data = await Astro.request.formData();
    const checkin = data.get("checkin");
    const checkout = data.get("checkout");
    console.log({
      checkin,
      checkout,
    });
  } catch (error) {
    console.error(error);
  }
}
---

<section class="max-w-7xl mx-auto px-6 py-12">
  <h3 class="text-2xl font-semibold mb-8">{title}</h3>
  <form
    class="grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 items-start justify-start gap-4"
    method="post"
  >
    <div>
      <label class="block font-semibold mb-2 text-sm" for="checkin">
        {form.checkin.title}
      </label>
      <input
        type="date"
        id="checkin"
        name="checkin"
        class="rounded-md px-4 py-3 border border-gray-400 w-full"
      />
    </div>
    <div>
      <label class="block font-semibold mb-2 text-sm" for="checkout">
        {form.checkout.title}
      </label>
      <input
        type="date"
        id="checkout"
        name="checkout"
        class="rounded-md px-4 py-3 border border-gray-400 w-full"
      />
    </div>

    <div>
      <label class="block font-semibold mb-2 text-sm" for="adults">
        {form.adults.title}
      </label>
      <select
        name="adults"
        id="adults"
        class="rounded-md px-4 py-3 border border-gray-400 bg-white w-full"
      >
        <option>1</option>
        <option>2</option>
        <option>3</option>
        <option>4</option>
        <option>más de 4</option>
      </select>
    </div>

    <div>
      <label class="block font-semibold mb-2 text-sm" for="children">
        {form.children.title}
      </label>
      <select
        name="children"
        id="children"
        class="rounded-md px-4 py-3 border border-gray-400 bg-white w-full"
      >
        <option>0</option>
        <option>1</option>
        <option>2</option>
        <option>3</option>
        <option>más de 3</option>
      </select>
    </div>
    <div class="col-span-2 md:col-span-4 lg:col-span-2">
      <label class="lg:block font-semibold mb-2 text-sm hidden" for="send">
        {button.title}
      </label>
      <button
        class="w-full bg-primary-500 text-white font-semibold rounded-md hover:bg-primary-600 transition-colors px-4 py-3"
      >
        {button.text}
      </button>
    </div>
  </form>
</section>
